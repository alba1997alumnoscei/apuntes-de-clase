<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio 3: Películas</title>

    <style>
        .contenedor img{
            max-width: 200px;
        }

        .contenedor{
            background: #ccc;
        }

        .pelicula{
            background: lightgray;
            min-height: 200px;
        }
    </style>
</head>

<body>

    <!--lista de peliculas: cada película con su fotito-->
    <div class="contenedor"></div>
    <!--datos de la pelicula seleccionada-->
    <div class="pelicula">
        <h3>titulo": "Inception",</h3>
        "genero": "Ciencia Ficción",
        "puntaje": 8.8,
        "descripcion": "Un ladrón que roba secretos corporativos a través del uso de tecnología de sueños es dado la tarea inversa de plantar una idea en la mente de un CEO.",

    </div>




    <script>

        const dataPeliculas = `[
        {
            "titulo": "Inception",
            "genero": "Ciencia Ficción",
            "puntaje": 8.8,
            "descripcion": "Un ladrón que roba secretos corporativos a través del uso de tecnología de sueños es dado la tarea inversa de plantar una idea en la mente de un CEO.",
            "imagen": "https://www.originalfilmart.com/cdn/shop/files/inception_2010_french_original_film_art_5000x.webp?v=1686692704"
        },
        {
            "titulo": "The Dark Knight",
            "genero": "Acción",
            "puntaje": 9.0,
            "descripcion": "Cuando el Joker emerge como el nuevo villano del caos, Batman debe aceptar uno de los mayores desafíos psicológicos y físicos para combatir la injusticia.",
            "imagen": "https://m.media-amazon.com/images/S/pv-target-images/e9a43e647b2ca70e75a3c0af046c4dfdcd712380889779cbdc2c57d94ab63902.jpg"
        },
        {
            "titulo": "Interstellar",
            "genero": "Aventura",
            "puntaje": 8.6,
            "descripcion": "Un equipo de exploradores viaja a través de un agujero de gusano en el espacio en un intento de asegurar la supervivencia de la humanidad.",
            "imagen": "https://pics.filmaffinity.com/Interstellar-366875261-large.jpg"
        }
        ]`;

        // 1. convierto mi JSON  objeto de JS

        const listaPeliculas = JSON.parse(dataPeliculas);
        console.log(listaPeliculas);

        const divContenedor = document.querySelector(".contenedor");
        const dataPelicula = document.querySelector(".pelicula")
        //imprimo todo el objeto de interestelar
        console.log(listaPeliculas[2].genero);

        // 2. Recorremos cada película, y creamos un div en contenedor
        listaPeliculas.forEach(pelicula => {
            
            //ahora trabajo con pelicula
            console.log(pelicula.genero);

             
            divContenedor.innerHTML += 
            `<div class="peli">
                <h1> ${pelicula.titulo} </h1>
            <img src="${pelicula.imagen}" alt="${pelicula.titulo}"></div>`
            ;
        });

// 3. Agregamos un eventListener ("click") en cada película recién creada y su función deberá cargar un DIV en .pelicula con sus datos 

const pelis =document.querySelectorAll(".peli");
pelis.forEach(peli => {
    peli.addEventListener("click", ( event    ) =>{
        const divPelicula = event.target; 
        console.log(divPelicula);
        

    });
})





    </script>
</body>

</html>